### 1、表锁（偏读），偏向myisam存储引擎

客户端1对表mylock加读锁 lock table mylock read;那么：

1、客户端1和其它客户端都可以查询该表的记录

2、客户端1不能查询其它没有锁定的表，其它客户端可以查询或者更新未锁定的表

3、客户端1在mylock中插入或者更新锁定的表都会提示错误，其它客户端插入或者更新mylock会一直等待获得锁

客户端1执行unlock tables释放锁，这时其它客户端可以获得锁，执行插入更新操作



客户端1对表mylock加写锁lock table mylock write；那么：

1、客户端1对锁定表的查询、更新、插入操作都可以执行；其它客户端对表的查询被阻塞，需要等待锁被释放；

2、客户端1执行unlock tables释放锁，其它客户端可以获得锁



myisam在执行查询语句（select）之前，会自动给涉及的所有表加读锁，在执行增删改操作前，会自动给涉及的表加写锁。myisam的读写锁调度是写优先，不适合做写为主表的引擎，因为写锁后，其它线程不能做任何操作，大量的更新会使查询很难得到锁，从而造成永久阻塞。



### 2、行锁（偏写），偏向innodb存储引擎

mysql在进行一个事务时，会自动加上行锁，有4种隔离级别

无索引（或者索引失效），行锁升级为表锁

单单select from  不会加行锁



### 3、间隙锁

当用范围条件而不是相等条件检索数据，并请求共享或排它锁时，Innodb会给符合条件的已有数据记录的索引项加锁；对于键值在条件范围内但并不存在的记录，叫做“间隙”，Innodb也会对这个“间隙”加锁，这种锁叫间隙锁。



### 4、页锁

开销和加锁时间界于表锁和行锁之间；会出现死锁；锁的粒度界于表锁和行锁之间，并发度一般

